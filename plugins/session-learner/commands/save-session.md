---
name: save-session
description: 현재 세션의 학습 내용을 수동으로 저장합니다
---

# 세션 학습 내용 저장

현재 세션의 학습 내용을 추출하여 설정된 레포지토리에 저장합니다.

## 작업 순서

### 1. 설정 파일 확인

`~/.claude/session-learner.local.md` 파일을 읽어서 `repository_path` 설정을 확인하세요.

설정 파일이 없으면:
```
설정 파일이 없습니다. 먼저 /session-learner:setup 커맨드를 실행하여 레포지토리 경로를 설정해주세요.
```
메시지를 출력하고 종료하세요.

### 2. 레포지토리 경로 검증

설정된 경로가 유효한지 확인:
- 디렉토리 존재 여부
- git 레포지토리 여부

검증 실패 시 에러 메시지 출력 후 종료.

### 3. 학습 내용 추출

`session-extractor` 에이전트를 Task 도구로 호출하여 현재 세션의 학습 내용을 추출하세요.

프롬프트:
```
현재 세션의 대화 내용을 분석하여 학습 기록을 작성해주세요.

저장 경로: {repository_path}/data/{YYYY-MM-DD}/{uuid}.md

UUID는 uuidgen 명령어로 생성하세요.
날짜 디렉토리가 없으면 생성하세요.
```

### 4. Git 커밋 및 푸시

학습 기록이 저장되면:

```bash
cd {repository_path}
git add data/
git commit -m "Add session learning: {간단한 요약}"
git push
```

푸시 실패 시 경고 메시지만 출력하고 로컬 커밋은 유지.

### 5. 완료 메시지

저장이 완료되면 다음 정보를 출력:
- 저장된 파일 경로
- 커밋 해시
- 푸시 성공 여부

## 에러 처리

- 설정 파일 없음: setup 커맨드 안내
- 레포지토리 경로 무효: 경로 확인 요청
- 학습 내용 없음: "이 세션에서 저장할 만한 학습 내용이 없습니다" 출력
- git 작업 실패: 에러 내용과 함께 수동 조치 안내
